<div class="admin-dashboard">
  <div class="container">
    <div class="page-header">
      <h1>–ê–¥–º–∏–Ω —Ö—è–Ω–∞–ª—Ç—ã–Ω —Å–∞–º–±–∞—Ä</h1>
      <p>–°—É—Ä–≥–∞–ª—Ç—É—É–¥—ã–≥ —É–¥–∏—Ä–¥–∞—Ö, —à–∏–Ω—ç —Å—É—Ä–≥–∞–ª—Ç “Ø“Ø—Å–≥—ç—Ö</p>
    </div>

    <!-- User Info -->
    <div class="user-info">
      <h3>–¢–∞–≤—Ç–∞–π –º–æ—Ä–∏–ª–Ω–æ —É—É, {{ user?.firstName }} {{ user?.lastName }}!</h3>
      <p>–¢–∞–Ω—ã —ç—Ä—Ö: <span class="role-badge" [class.admin]="isAdmin()" [class.instructor]="isInstructor()">
        {{ isAdmin() ? '–ê–¥–º–∏–Ω' : '–ë–∞–≥—à' }}
      </span></p>
    </div>

    <!-- Quick Stats -->
    <div class="quick-stats" *ngIf="isAdmin()">
      <div class="stat-card">
        <div class="stat-icon">üìö</div>
        <div class="stat-content">
          <h4>{{ courses.length }}</h4>
          <p>–ù–∏–π—Ç —Å—É—Ä–≥–∞–ª—Ç</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">üë•</div>
        <div class="stat-content">
          <h4>{{ getTotalStudents() }}</h4>
          <p>–ù–∏–π—Ç —Å—É—Ä–∞–ª—Ü–∞–≥—á</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">‚≠ê</div>
        <div class="stat-content">
          <h4>{{ getAverageRating() }}</h4>
          <p>–î—É–Ω–¥–∞–∂ “Ø–Ω—ç–ª–≥—ç—ç</p>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions">
      <h3>–•—É—Ä–¥–∞–Ω “Ø–π–ª–¥–ª“Ø“Ø–¥</h3>
      <div class="action-buttons">
        <button class="btn btn-primary" (click)="createCourse()">
          <span class="icon">‚ûï</span>
          –®–∏–Ω—ç —Å—É—Ä–≥–∞–ª—Ç “Ø“Ø—Å–≥—ç—Ö
        </button>
        <button class="btn btn-outline" (click)="refreshCourses()">
          <span class="icon">üîÑ</span>
          –°—É—Ä–≥–∞–ª—Ç—É—É–¥—ã–≥ —à–∏–Ω—ç—á–ª—ç—Ö
        </button>
        <button *ngIf="isAdmin()" class="btn btn-outline" (click)="viewAllCourses()">
          <span class="icon">üìã</span>
          –ë“Ø—Ö —Å—É—Ä–≥–∞–ª—Ç —Ö–∞—Ä–∞—Ö
        </button>
      </div>
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="error-message">
      <p>{{ errorMessage }}</p>
    </div>

    <!-- Loading -->
    <div *ngIf="isLoading" class="loading">
      <div class="loading-spinner"></div>
      <p>–°—É—Ä–≥–∞–ª—Ç—É—É–¥—ã–≥ —É–Ω—à–∏–∂ –±–∞–π–Ω–∞...</p>
    </div>

    <!-- Courses List -->
    <div *ngIf="!isLoading && courses.length > 0" class="courses-section">
      <h3>–¢–∞–Ω—ã —Å—É—Ä–≥–∞–ª—Ç—É—É–¥ ({{ courses.length }})</h3>
      <div class="courses-grid">
        <div *ngFor="let course of courses" class="course-card">
          <div class="course-image">
            <img [src]="getCourseImageUrl(course.image)" [alt]="course.title" />
          </div>
          
          <div class="course-content">
            <h4>{{ course.title }}</h4>
            <p class="course-description">{{ course.description }}</p>
            
            <div class="course-meta">
              <span class="price">{{ course.price | number }}‚ÇÆ</span>
              <span class="duration">{{ course.duration }}</span>
              <span class="level">{{ course.details?.[0]?.level }}</span>
            </div>
            
            <div class="course-stats">
              <span class="rating">‚≠ê {{ course.details?.[0]?.rating || 0 }}</span>
              <span class="students">üë• {{ course.details?.[0]?.students || 0 }}</span>
            </div>
          </div>
          
          <div class="course-actions">
            <button class="btn btn-sm btn-outline" (click)="editCourse(course._id)">
              ‚úèÔ∏è –ó–∞—Å–∞—Ö
            </button>
            <button 
              *ngIf="isAdmin()" 
              class="btn btn-sm btn-danger" 
              (click)="deleteCourse(course._id)"
            >
              üóëÔ∏è –£—Å—Ç–≥–∞—Ö
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="!isLoading && courses.length === 0" class="empty-state">
      <div class="empty-icon">üìö</div>
      <h3>–û–¥–æ–æ–≥–æ–æ—Ä —Å—É—Ä–≥–∞–ª—Ç –±–∞–π—Ö–≥“Ø–π –±–∞–π–Ω–∞</h3>
      <p>–≠—Ö–Ω–∏–π —Å—É—Ä–≥–∞–ª—Ç–∞–∞ “Ø“Ø—Å–≥—ç–∂ —ç—Ö–ª—ç—ç—Ä—ç–π</p>
      <button class="btn btn-primary" (click)="createCourse()">
        –®–∏–Ω—ç —Å—É—Ä–≥–∞–ª—Ç “Ø“Ø—Å–≥—ç—Ö
      </button>
    </div>
  </div>
</div>
