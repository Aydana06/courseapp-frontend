<div class="home-container">
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">Програмчлалын онлайн сургалтууд</h1>
      <p class="hero-description">
        Мэргэжлийн багш нартай хамт програмчлалын урлагийг сурцгаая. Таныг практик дадпагатай, ойлгомжтой материалтай сургалтууд хүлээж байна.
      <div class="hero-buttons">
        <a routerLink="/courses" class="btn btn-primary">Сургалтуудыг харах</a>
        <a routerLink="/register" class="btn btn-secondary">Бүртгүүлэх</a>
      </div>
    </div>
  </section>

  <!-- Featured Courses Section -->
  <section class="featured-courses">
    <div class="container">
      <h2 class="section-title">Онцлох Сургалтууд</h2>
      <div class="courses-grid">
        <div
          class="course-card"
          *ngFor="let course of (featuredCourses$ | async)?.slice(0, 3)"
        >
          <div 
            class="course-image clickable" 
            (click)="goToCourse(course._id)"
            (keydown.enter)="goToCourse(course._id)"
            (keydown.space)="goToCourse(course._id)"
            tabindex="0"
            role="button"
            [attr.aria-label]="'Сургалт харах: ' + course.title"
          >
            <img [src]="course.image" [alt]="course.title" />
            <div class="course-overlay">
              <span class="view-course-text">Сургалт харах</span>
            </div>
          </div>
          <div class="course-content">
            <h3 
              class="course-title clickable" 
              (click)="goToCourse(course._id)"
              (keydown.enter)="goToCourse(course._id)"
              (keydown.space)="goToCourse(course._id)"
              tabindex="0"
              role="button"
              [attr.aria-label]="'Сургалт харах: ' + course.title"
            >
              {{ course.title }}
              <span class="click-indicator">→</span>
            </h3>
            <p class="course-description">{{ course.description }}</p>
            <div class="course-meta">
              <span class="duration">{{ course.duration }}</span>
              <span class="instructor">{{ course.instructor }}</span>
            </div>
            <div class="course-price">
              <span class="price">{{ course.price | number }}₮</span>
            </div>
            <button
              *ngIf="authService.isLoggedIn() && !isEnrolled(course._id)"
              class="btn btn-outline"
              (click)="addToCart(course._id)"
            >
              Сагсанд нэмэх
            </button>
            <div
              *ngIf="authService.isLoggedIn() && isEnrolled(course._id)"
              class="enrolled-badge"
            >
              Бүртгүүлсэн
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Statistics Section -->
  <section class="statistics">
    <div class="container">
      <div class="stats-grid">
        <div class="stat-item">
          <h3>{{ totalStudents | number }}</h3>
          <p>Сурагч</p>
        </div>
        <div class="stat-item">
          <h3>{{ totalCourses }}</h3>
          <p>Сургалт</p>
        </div>
        <div class="stat-item">
          <h3>{{ totalInstructors }}</h3>
          <p>Багш</p>
        </div>
        <div class="stat-item">
          <h3>{{ satisfactionRate }}%</h3>
          <p>Сэтгэл ханамж</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Latest Comments Section (styled like course detail) -->
  <section class="latest-comments">
    <div class="container">
      <h2 class="section-title">Сүүлд бичсэн сэтгэгдлүүд</h2>
      <div class="testimonials-grid" *ngIf="latestComments.length; else noLatest">
        <div class="testimonial-card" *ngFor="let c of latestComments">
          <div class="testimonial-content">
            <p>{{ c.content }}</p>
          </div>
          <div class="testimonial-author">
            <h4>{{ c.name }}</h4>
            <span>{{ c.role }}</span>
            <div class="rating">
              <span class="star" *ngFor="let star of [1,2,3,4,5]" [class.filled]="star <= c.rating">★</span>
            </div>
          </div>
        </div>
      </div>
      <ng-template #noLatest>
        <p>Одоогоор сэтгэгдэл алга.</p>
      </ng-template>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="container">
      <h2>Өнөөдөр эхлээрэй</h2>
      <p>Програмчлалын урлагийг сурж, шинэ боломжуудыг нээгээрэй</p>
      <a routerLink="/register" class="btn btn-primary">Үнэгүй бүртгүүлэх</a>
    </div>
  </section>
</div>
